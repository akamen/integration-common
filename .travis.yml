language: java
sudo: false
install: true

addons:
  sonarcloud:
    token:
      secure: "TsiWA8qLLS449V7LfYcLC5qoXOgz589S0DKWIPJ75xRrpwkblWQaU1IVvgcVGSYB7ykHZUifbCP85IWe5wjP1zuuxgFY+W8BqBisjV1YnD30fvFRTJ2+mgFTA39oqN9W3ZAnSlwNb4uinP6TYjxYxfRC2phNLvelVn5vcEFt3A+JKxq2dDQn0l2C/w1r5ofgZKdvJnf29O62t5Kawbe1BCaJYc7q2uggoOz36jG/Ee1PYkji8gC79M9eOzz7GWHIlKDfIEGAL0e1xSOXGXwffBkcV97XIU0MYQ2QlYvnN/UKUf6IBt24yz5AfjqoMRaqfe5j+bJeyEYxWW3E4KLHmtIotqRokKTpI26rEX+5sIXuKYUsUPW8l6Ryrys2k3hFCuRXF7Y6KGNJrBG6QRjABkKNV1DxWooCF7ab54YILsFf0j7TYutL6mca4OBQo3pVP96bQRiwAKQ0UAG8hh6dseAtBqi3QzruwLFdqyxuZs7qwsvp5zbOLWd1yBaPBKBZ/iQFWHM8PBO5TUkOEePARleavyvkszvF9AU6yFI45tB6qbAsBphJcaVWaOtsN5yLp1YcG+Gf/tGSWFAIvoa0ezwHYaSfTqTUM7ATHse0od/t2+waTfLQFr3/u4Jj7MBHGaSxYBjK2HEWqQHFTOoJd+eE8g6+MactpASROig+pAw="

jdk:
- oraclejdk8

notifications:
  email:
    recipients:
    - akamen@blackducksoftware.com
    - jrichard@blackducksoftware.com
    - psantos@blackducksoftware.com
    - ekerwin@blackducksoftware.com

script:
 - "./gradlew clean build sonarqube"

after_success:
 - "./gradlew test jacocoTestReport coveralls"
 - bash <(curl -s https://copilot.blackducksoftware.com/ci/travis/scripts/upload)

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
  - "$HOME/.gradle"
  - ".gradle"
